<ion-header>
  <ion-navbar color="primary">
    <ion-title>{{ event.name }}</ion-title>
  </ion-navbar>
</ion-header>


<ion-content>

  <div *ngIf="!editMode" class="spacer" [style.background-image]="safeStyle"></div>
  <picture-upload *ngIf="editMode" [image]="event.imageUri" [height]="450" (onFinished)="pictureChanged($event[0])"></picture-upload>

  <div padding>

  <h1 *ngIf="!editMode">{{ event.name }}</h1>
  <ion-input *ngIf="editMode" placeholder="Title" [(ngModel)]="event.name"></ion-input>

  <p *ngIf="!editMode">{{event.description}}</p>
  <p *ngIf="editMode"><ion-input placeholder="Description" [(ngModel)]="event.description"></ion-input></p>


  <ion-list no-lines>
    <ion-list-header>
      {{ 'DETAIL.SPEAKERS' | translate }} ({{(speakers) ? speakers.length : '0'}}) <select-user *ngIf="editMode" item-right [placeholder]="'Add speaker'" (onSelected)="onSpeakerSelected($event[0])"></select-user>
    </ion-list-header>

    <ion-item *ngFor="let speaker of speakers">
      <ion-avatar item-left>
        <img src="{{ speaker.imageUri | imageUri }}">
      </ion-avatar>
      <h2>{{ speaker.firstName }} {{ speaker.lastName }}</h2>
      <h3>{{ speaker.email }}</h3>
      <ion-icon *ngIf="editMode" (click)="deleteSpeaker($event, speaker)" name="close-circle" item-right></ion-icon>
    </ion-item>



    <ion-list-header>
      {{ 'DETAIL.ATTENDEES' | translate }} ({{(attendees) ? attendees.length : '0'}})
    </ion-list-header>
      <ion-chip *ngFor="let attendee of attendees">
        <ion-label>{{ attendee.firstName }} {{ attendee.lastName }}</ion-label>
      </ion-chip>
    <ion-list-header>
      {{ 'DETAIL.FILES' | translate }}
    </ion-list-header>

    <ion-item *ngFor="let file of files" (click)="download(file.uri)">
      <ion-avatar item-left>
        <img src="{{ file.uri | imageUri }}">
      </ion-avatar>
      <h2>{{ file.name }} </h2>
k    </ion-item>
  </ion-list>

  <fileupload (onFinished)="uploadFinished($event[0], $event[1])"></fileupload>

  </div>

  <ion-fab right bottom>
    <button *ngIf="editMode" ion-fab color="primary" (click)="save()"><ion-icon name="download"></ion-icon></button>
    <button *ngIf="!editMode" ion-fab color="primary" (click)="edit()"><ion-icon name="create"></ion-icon></button>
  </ion-fab>
</ion-content>
